{"ast":null,"code":"const mariadb = require('mariadb');\nconst pool = mariadb.createPool({\n  host: '192.168.1.11',\n  user: 'root',\n  password: 'rootroot',\n  connectionLimit: 5\n});\nasync function initTable() {\n  let conn;\n  try {\n    console.log(\"trying connection\");\n    conn = await pool.getConnection();\n    console.log(\"connected\");\n    const DB = await conn.query(\"USE VelocityAppDB;\");\n    createTable(conn);\n    console.log(\"Table créé\");\n  } catch (err) {\n    conn.end();\n    throw err;\n  } finally {\n    console.log(\"finally\");\n    if (conn) return conn.end();\n    console.log(\"closed\");\n    return;\n  }\n  return;\n}\nasync function createTable(conn) {\n  console.log(\"createTable\");\n  return conn.query(`\n  CREATE TABLE IF NOT EXISTS velocityData\n  (\n    exercise                VARCHAR(30),\n    set_number              INT,\n    rep                     INT,\n    weight                  INT,\n    metric                  VARCHAR(5),\n    rpe                     VARCHAR(3),\n    tags                    VARCHAR(50),\n    start_time              VARCHAR(20),\n    rest_time               VARCHAR(10),\n    avg_velocity            FLOAT,\n    rom                     INT,\n    peak_velocity           FLOAT,\n    peak_velocity_location  INT,\n    duration_of_rep         FLOAT\n  )\n`);\n}\nmodule.exports = initTable();","map":{"version":3,"names":["mariadb","require","pool","createPool","host","user","password","connectionLimit","initTable","conn","console","log","getConnection","DB","query","createTable","err","end","module","exports"],"sources":["/home/warameur/Documents/velocity-data-viz/src/dbScript/db.js"],"sourcesContent":["const mariadb = require('mariadb');\n\nconst pool = mariadb.createPool({\n  host: '192.168.1.11', \n  user:'root', \n  password: 'rootroot',\n  connectionLimit: 5\n});\n\nasync function initTable() {\n  let conn;\n  try {\n    console.log(\"trying connection\");\n    conn = await pool.getConnection();\n    console.log(\"connected\");\n    const DB = await conn.query(\"USE VelocityAppDB;\");\n    createTable(conn);\n    console.log(\"Table créé\");\n  } catch (err) {\n    conn.end();\n\t  throw err;\n  } finally {\n    console.log(\"finally\");\n\t  if (conn) return conn.end();\n    console.log(\"closed\");\n    return;\n  }\n  return;\n}\n\nasync function createTable(conn) {\n  console.log(\"createTable\");\n  return conn.query(`\n  CREATE TABLE IF NOT EXISTS velocityData\n  (\n    exercise                VARCHAR(30),\n    set_number              INT,\n    rep                     INT,\n    weight                  INT,\n    metric                  VARCHAR(5),\n    rpe                     VARCHAR(3),\n    tags                    VARCHAR(50),\n    start_time              VARCHAR(20),\n    rest_time               VARCHAR(10),\n    avg_velocity            FLOAT,\n    rom                     INT,\n    peak_velocity           FLOAT,\n    peak_velocity_location  INT,\n    duration_of_rep         FLOAT\n  )\n`);\n}\n\nmodule.exports = initTable();"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAElC,MAAMC,IAAI,GAAGF,OAAO,CAACG,UAAU,CAAC;EAC9BC,IAAI,EAAE,cAAc;EACpBC,IAAI,EAAC,MAAM;EACXC,QAAQ,EAAE,UAAU;EACpBC,eAAe,EAAE;AACnB,CAAC,CAAC;AAEF,eAAeC,SAASA,CAAA,EAAG;EACzB,IAAIC,IAAI;EACR,IAAI;IACFC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChCF,IAAI,GAAG,MAAMP,IAAI,CAACU,aAAa,EAAE;IACjCF,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IACxB,MAAME,EAAE,GAAG,MAAMJ,IAAI,CAACK,KAAK,CAAC,oBAAoB,CAAC;IACjDC,WAAW,CAACN,IAAI,CAAC;IACjBC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;EAC3B,CAAC,CAAC,OAAOK,GAAG,EAAE;IACZP,IAAI,CAACQ,GAAG,EAAE;IACX,MAAMD,GAAG;EACV,CAAC,SAAS;IACRN,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACvB,IAAIF,IAAI,EAAE,OAAOA,IAAI,CAACQ,GAAG,EAAE;IAC1BP,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrB;EACF;EACA;AACF;AAEA,eAAeI,WAAWA,CAACN,IAAI,EAAE;EAC/BC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;EAC1B,OAAOF,IAAI,CAACK,KAAK,CAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC;AACF;AAEAI,MAAM,CAACC,OAAO,GAAGX,SAAS,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}