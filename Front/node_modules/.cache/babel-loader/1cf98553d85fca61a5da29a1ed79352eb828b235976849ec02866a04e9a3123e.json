{"ast":null,"code":"const PluginAuth = require('./plugin-auth');\n\n/**\n * Send password in clear.\n * (used only when SSL is active)\n */\nclass ClearPasswordAuth extends PluginAuth {\n  constructor(packSeq, compressPackSeq, pluginData, cmdParam, resolve, reject, multiAuthResolver) {\n    super(cmdParam, resolve, reject, multiAuthResolver);\n    this.sequenceNo = packSeq;\n    this.counter = 0;\n  }\n  start(out, opts, info) {\n    out.startPacket(this);\n    const pwd = opts.password;\n    if (pwd) {\n      if (Array.isArray(pwd)) {\n        out.writeString(pwd[this.counter++]);\n      } else {\n        out.writeString(pwd);\n      }\n    }\n    out.writeInt8(0);\n    out.flushPacket();\n    this.emit('send_end');\n    this.onPacketReceive = this.successSend;\n  }\n}\nmodule.exports = ClearPasswordAuth;","map":{"version":3,"names":["PluginAuth","require","ClearPasswordAuth","constructor","packSeq","compressPackSeq","pluginData","cmdParam","resolve","reject","multiAuthResolver","sequenceNo","counter","start","out","opts","info","startPacket","pwd","password","Array","isArray","writeString","writeInt8","flushPacket","emit","onPacketReceive","successSend","module","exports"],"sources":["/home/warameur/Documents/velocity-data-viz/node_modules/mariadb/lib/cmd/handshake/auth/clear-password-auth.js"],"sourcesContent":["const PluginAuth = require('./plugin-auth');\n\n/**\n * Send password in clear.\n * (used only when SSL is active)\n */\nclass ClearPasswordAuth extends PluginAuth {\n  constructor(packSeq, compressPackSeq, pluginData, cmdParam, resolve, reject, multiAuthResolver) {\n    super(cmdParam, resolve, reject, multiAuthResolver);\n    this.sequenceNo = packSeq;\n    this.counter = 0;\n  }\n\n  start(out, opts, info) {\n    out.startPacket(this);\n    const pwd = opts.password;\n    if (pwd) {\n      if (Array.isArray(pwd)) {\n        out.writeString(pwd[this.counter++]);\n      } else {\n        out.writeString(pwd);\n      }\n    }\n    out.writeInt8(0);\n    out.flushPacket();\n    this.emit('send_end');\n    this.onPacketReceive = this.successSend;\n  }\n}\n\nmodule.exports = ClearPasswordAuth;\n"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAe,CAAC;;AAE3C;AACA;AACA;AACA;AACA,MAAMC,iBAAiB,SAASF,UAAU,CAAC;EACzCG,WAAWA,CAACC,OAAO,EAAEC,eAAe,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,MAAM,EAAEC,iBAAiB,EAAE;IAC9F,KAAK,CAACH,QAAQ,EAAEC,OAAO,EAAEC,MAAM,EAAEC,iBAAiB,CAAC;IACnD,IAAI,CAACC,UAAU,GAAGP,OAAO;IACzB,IAAI,CAACQ,OAAO,GAAG,CAAC;EAClB;EAEAC,KAAKA,CAACC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAE;IACrBF,GAAG,CAACG,WAAW,CAAC,IAAI,CAAC;IACrB,MAAMC,GAAG,GAAGH,IAAI,CAACI,QAAQ;IACzB,IAAID,GAAG,EAAE;MACP,IAAIE,KAAK,CAACC,OAAO,CAACH,GAAG,CAAC,EAAE;QACtBJ,GAAG,CAACQ,WAAW,CAACJ,GAAG,CAAC,IAAI,CAACN,OAAO,EAAE,CAAC,CAAC;MACtC,CAAC,MAAM;QACLE,GAAG,CAACQ,WAAW,CAACJ,GAAG,CAAC;MACtB;IACF;IACAJ,GAAG,CAACS,SAAS,CAAC,CAAC,CAAC;IAChBT,GAAG,CAACU,WAAW,EAAE;IACjB,IAAI,CAACC,IAAI,CAAC,UAAU,CAAC;IACrB,IAAI,CAACC,eAAe,GAAG,IAAI,CAACC,WAAW;EACzC;AACF;AAEAC,MAAM,CAACC,OAAO,GAAG3B,iBAAiB"},"metadata":{},"sourceType":"script","externalDependencies":[]}