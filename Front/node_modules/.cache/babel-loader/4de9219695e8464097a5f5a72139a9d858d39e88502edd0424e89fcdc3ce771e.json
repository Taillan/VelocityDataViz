{"ast":null,"code":"'use strict';\n\nconst hexArray = '0123456789ABCDEF'.split('');\nconst Errors = require('../misc/errors');\nconst Iconv = require('iconv-lite');\nconst TextEncoder = require('../cmd/encoder/text-encoder');\n\n/**\n * Write bytes/hexadecimal value of a byte array to a string.\n * String output example :\n * 38 00 00 00 03 63 72 65  61 74 65 20 74 61 62 6C     8....create tabl\n * 65 20 42 6C 6F 62 54 65  73 74 63 6C 6F 62 74 65     e BlobTestclobte\n * 73 74 32 20 28 73 74 72  6D 20 74 65 78 74 29 20     st2 (strm text)\n * 43 48 41 52 53 45 54 20  75 74 66 38                 CHARSET utf8\n */\nmodule.exports.log = function (opts, buf, off, end, header) {\n  let out = [];\n  if (!buf) return '';\n  if (off === undefined || off === null) off = 0;\n  if (end === undefined || end === null) end = buf.length;\n  let asciiValue = new Array(16);\n  asciiValue[8] = ' ';\n  let useHeader = header !== undefined;\n  let offset = off || 0;\n  const maxLgh = Math.min(useHeader ? opts.debugLen - header.length : opts.debugLen, end - offset);\n  const isLimited = end - offset > maxLgh;\n  let byteValue;\n  let posHexa = 0;\n  let pos = 0;\n  out.push('+--------------------------------------------------+\\n' + '|  0  1  2  3  4  5  6  7   8  9  a  b  c  d  e  f |\\n' + '+--------------------------------------------------+------------------+\\n');\n  if (useHeader) {\n    while (pos < header.length) {\n      if (posHexa === 0) out.push('| ');\n      byteValue = header[pos++] & 0xff;\n      out.push(hexArray[byteValue >>> 4], hexArray[byteValue & 0x0f], ' ');\n      asciiValue[posHexa++] = byteValue > 31 && byteValue < 127 ? String.fromCharCode(byteValue) : '.';\n      if (posHexa === 8) out.push(' ');\n    }\n  }\n  pos = offset;\n  while (pos < maxLgh + offset) {\n    if (posHexa === 0) out.push('| ');\n    byteValue = buf[pos] & 0xff;\n    out.push(hexArray[byteValue >>> 4], hexArray[byteValue & 0x0f], ' ');\n    asciiValue[posHexa++] = byteValue > 31 && byteValue < 127 ? String.fromCharCode(byteValue) : '.';\n    if (posHexa === 8) out.push(' ');\n    if (posHexa === 16) {\n      out.push('| ', asciiValue.join(''), ' |\\n');\n      posHexa = 0;\n    }\n    pos++;\n  }\n  let remaining = posHexa;\n  if (remaining > 0) {\n    if (remaining < 8) {\n      for (; remaining < 8; remaining++) {\n        out.push('   ');\n        asciiValue[posHexa++] = ' ';\n      }\n      out.push(' ');\n    }\n    for (; remaining < 16; remaining++) {\n      out.push('   ');\n      asciiValue[posHexa++] = ' ';\n    }\n    out.push('| ', asciiValue.join(''), isLimited ? ' |...\\n' : ' |\\n');\n  } else if (isLimited) {\n    out[out.length - 1] = ' |...\\n';\n  }\n  out.push('+--------------------------------------------------+------------------+\\n');\n  return out.join('');\n};\nmodule.exports.escapeId = (opts, info, value) => {\n  if (!value || value === '') {\n    throw Errors.createError('Cannot escape empty ID value', Errors.ER_NULL_ESCAPEID, info, '0A000');\n  }\n  if (value.includes('\\u0000')) {\n    throw Errors.createError('Cannot escape ID with null character (u0000)', Errors.ER_NULL_CHAR_ESCAPEID, info, '0A000');\n  }\n\n  // always return escaped value, event when there is no special characters\n  // to permit working with reserved words\n  if (value.match(/^`.+`$/g)) {\n    // already escaped\n    return value;\n  }\n  return '`' + value.replace(/`/g, '``') + '`';\n};\nconst escapeParameters = (opts, info, value) => {\n  if (value === undefined || value === null) return 'NULL';\n  switch (typeof value) {\n    case 'boolean':\n      return value ? 'true' : 'false';\n    case 'bigint':\n    case 'number':\n      return '' + value;\n    case 'object':\n      if (value instanceof Date) {\n        return TextEncoder.getLocalDate(value);\n      } else if (Buffer.isBuffer(value)) {\n        let stValue;\n        if (Buffer.isEncoding(info.collation.charset)) {\n          stValue = value.toString(info.collation.charset, 0, value.length);\n        } else {\n          stValue = Iconv.decode(value, info.collation.charset);\n        }\n        return \"_binary'\" + escapeString(stValue) + \"'\";\n      } else if (typeof value.toSqlString === 'function') {\n        return \"'\" + escapeString(String(value.toSqlString())) + \"'\";\n      } else if (Array.isArray(value)) {\n        let out = opts.arrayParenthesis ? '(' : '';\n        for (let i = 0; i < value.length; i++) {\n          if (i !== 0) out += ',';\n          out += escapeParameters(opts, info, value[i]);\n        }\n        if (opts.arrayParenthesis) out += ')';\n        return out;\n      } else {\n        if (value.type != null && ['Point', 'LineString', 'Polygon', 'MultiPoint', 'MultiLineString', 'MultiPolygon', 'GeometryCollection'].includes(value.type)) {\n          //GeoJSON format.\n          let prefix = info && (info.isMariaDB() && info.hasMinVersion(10, 1, 4) || !info.isMariaDB() && info.hasMinVersion(5, 7, 6)) ? 'ST_' : '';\n          switch (value.type) {\n            case 'Point':\n              return prefix + \"PointFromText('POINT(\" + TextEncoder.geoPointToString(value.coordinates) + \")')\";\n            case 'LineString':\n              return prefix + \"LineFromText('LINESTRING(\" + TextEncoder.geoArrayPointToString(value.coordinates) + \")')\";\n            case 'Polygon':\n              return prefix + \"PolygonFromText('POLYGON(\" + TextEncoder.geoMultiArrayPointToString(value.coordinates) + \")')\";\n            case 'MultiPoint':\n              return prefix + \"MULTIPOINTFROMTEXT('MULTIPOINT(\" + TextEncoder.geoArrayPointToString(value.coordinates) + \")')\";\n            case 'MultiLineString':\n              return prefix + \"MLineFromText('MULTILINESTRING(\" + TextEncoder.geoMultiArrayPointToString(value.coordinates) + \")')\";\n            case 'MultiPolygon':\n              return prefix + \"MPolyFromText('MULTIPOLYGON(\" + TextEncoder.geoMultiPolygonToString(value.coordinates) + \")')\";\n            case 'GeometryCollection':\n              return prefix + \"GeomCollFromText('GEOMETRYCOLLECTION(\" + TextEncoder.geometricCollectionToString(value.geometries) + \")')\";\n          }\n        } else {\n          if (opts.permitSetMultiParamEntries) {\n            let out = '';\n            let first = true;\n            for (let key in value) {\n              const val = value[key];\n              if (typeof val === 'function') continue;\n              if (first) {\n                first = false;\n              } else {\n                out += ',';\n              }\n              out += '`' + key + '`=';\n              out += this.escape(opts, info, val);\n            }\n            if (out === '') return \"'\" + escapeString(JSON.stringify(value)) + \"'\";\n            return out;\n          } else {\n            return \"'\" + escapeString(JSON.stringify(value)) + \"'\";\n          }\n        }\n      }\n    default:\n      return \"'\" + escapeString(value) + \"'\";\n  }\n};\n\n// see https://mariadb.com/kb/en/library/string-literals/\nconst LITTERAL_ESCAPE = {\n  '\\u0000': '\\\\0',\n  \"'\": \"\\\\'\",\n  '\"': '\\\\\"',\n  '\\b': '\\\\b',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n  '\\u001A': '\\\\Z',\n  '\\\\': '\\\\\\\\'\n};\nconst escapeString = val => {\n  const pattern = /[\\u0000'\"\\b\\n\\r\\t\\u001A\\\\]/g;\n  let offset = 0;\n  let escaped = '';\n  let match;\n  while (match = pattern.exec(val)) {\n    escaped += val.substring(offset, match.index);\n    escaped += LITTERAL_ESCAPE[match[0]];\n    offset = pattern.lastIndex;\n  }\n  if (offset === 0) {\n    return val;\n  }\n  if (offset < val.length) {\n    escaped += val.substring(offset);\n  }\n  return escaped;\n};\nmodule.exports.escape = escapeParameters;","map":{"version":3,"names":["hexArray","split","Errors","require","Iconv","TextEncoder","module","exports","log","opts","buf","off","end","header","out","undefined","length","asciiValue","Array","useHeader","offset","maxLgh","Math","min","debugLen","isLimited","byteValue","posHexa","pos","push","String","fromCharCode","join","remaining","escapeId","info","value","createError","ER_NULL_ESCAPEID","includes","ER_NULL_CHAR_ESCAPEID","match","replace","escapeParameters","Date","getLocalDate","Buffer","isBuffer","stValue","isEncoding","collation","charset","toString","decode","escapeString","toSqlString","isArray","arrayParenthesis","i","type","prefix","isMariaDB","hasMinVersion","geoPointToString","coordinates","geoArrayPointToString","geoMultiArrayPointToString","geoMultiPolygonToString","geometricCollectionToString","geometries","permitSetMultiParamEntries","first","key","val","escape","JSON","stringify","LITTERAL_ESCAPE","pattern","escaped","exec","substring","index","lastIndex"],"sources":["/home/warameur/Documents/velocity-data-viz/node_modules/mariadb/lib/misc/utils.js"],"sourcesContent":["'use strict';\nconst hexArray = '0123456789ABCDEF'.split('');\nconst Errors = require('../misc/errors');\nconst Iconv = require('iconv-lite');\nconst TextEncoder = require('../cmd/encoder/text-encoder');\n\n/**\n * Write bytes/hexadecimal value of a byte array to a string.\n * String output example :\n * 38 00 00 00 03 63 72 65  61 74 65 20 74 61 62 6C     8....create tabl\n * 65 20 42 6C 6F 62 54 65  73 74 63 6C 6F 62 74 65     e BlobTestclobte\n * 73 74 32 20 28 73 74 72  6D 20 74 65 78 74 29 20     st2 (strm text)\n * 43 48 41 52 53 45 54 20  75 74 66 38                 CHARSET utf8\n */\nmodule.exports.log = function (opts, buf, off, end, header) {\n  let out = [];\n  if (!buf) return '';\n  if (off === undefined || off === null) off = 0;\n  if (end === undefined || end === null) end = buf.length;\n  let asciiValue = new Array(16);\n  asciiValue[8] = ' ';\n\n  let useHeader = header !== undefined;\n  let offset = off || 0;\n  const maxLgh = Math.min(useHeader ? opts.debugLen - header.length : opts.debugLen, end - offset);\n  const isLimited = end - offset > maxLgh;\n  let byteValue;\n  let posHexa = 0;\n  let pos = 0;\n\n  out.push(\n    '+--------------------------------------------------+\\n' +\n      '|  0  1  2  3  4  5  6  7   8  9  a  b  c  d  e  f |\\n' +\n      '+--------------------------------------------------+------------------+\\n'\n  );\n\n  if (useHeader) {\n    while (pos < header.length) {\n      if (posHexa === 0) out.push('| ');\n      byteValue = header[pos++] & 0xff;\n      out.push(hexArray[byteValue >>> 4], hexArray[byteValue & 0x0f], ' ');\n      asciiValue[posHexa++] = byteValue > 31 && byteValue < 127 ? String.fromCharCode(byteValue) : '.';\n      if (posHexa === 8) out.push(' ');\n    }\n  }\n\n  pos = offset;\n  while (pos < maxLgh + offset) {\n    if (posHexa === 0) out.push('| ');\n    byteValue = buf[pos] & 0xff;\n\n    out.push(hexArray[byteValue >>> 4], hexArray[byteValue & 0x0f], ' ');\n\n    asciiValue[posHexa++] = byteValue > 31 && byteValue < 127 ? String.fromCharCode(byteValue) : '.';\n\n    if (posHexa === 8) out.push(' ');\n    if (posHexa === 16) {\n      out.push('| ', asciiValue.join(''), ' |\\n');\n      posHexa = 0;\n    }\n    pos++;\n  }\n\n  let remaining = posHexa;\n  if (remaining > 0) {\n    if (remaining < 8) {\n      for (; remaining < 8; remaining++) {\n        out.push('   ');\n        asciiValue[posHexa++] = ' ';\n      }\n      out.push(' ');\n    }\n\n    for (; remaining < 16; remaining++) {\n      out.push('   ');\n      asciiValue[posHexa++] = ' ';\n    }\n\n    out.push('| ', asciiValue.join(''), isLimited ? ' |...\\n' : ' |\\n');\n  } else if (isLimited) {\n    out[out.length - 1] = ' |...\\n';\n  }\n  out.push('+--------------------------------------------------+------------------+\\n');\n  return out.join('');\n};\n\nmodule.exports.escapeId = (opts, info, value) => {\n  if (!value || value === '') {\n    throw Errors.createError('Cannot escape empty ID value', Errors.ER_NULL_ESCAPEID, info, '0A000');\n  }\n  if (value.includes('\\u0000')) {\n    throw Errors.createError(\n      'Cannot escape ID with null character (u0000)',\n      Errors.ER_NULL_CHAR_ESCAPEID,\n      info,\n      '0A000'\n    );\n  }\n\n  // always return escaped value, event when there is no special characters\n  // to permit working with reserved words\n  if (value.match(/^`.+`$/g)) {\n    // already escaped\n    return value;\n  }\n  return '`' + value.replace(/`/g, '``') + '`';\n};\n\nconst escapeParameters = (opts, info, value) => {\n  if (value === undefined || value === null) return 'NULL';\n\n  switch (typeof value) {\n    case 'boolean':\n      return value ? 'true' : 'false';\n    case 'bigint':\n    case 'number':\n      return '' + value;\n    case 'object':\n      if (value instanceof Date) {\n        return TextEncoder.getLocalDate(value);\n      } else if (Buffer.isBuffer(value)) {\n        let stValue;\n        if (Buffer.isEncoding(info.collation.charset)) {\n          stValue = value.toString(info.collation.charset, 0, value.length);\n        } else {\n          stValue = Iconv.decode(value, info.collation.charset);\n        }\n        return \"_binary'\" + escapeString(stValue) + \"'\";\n      } else if (typeof value.toSqlString === 'function') {\n        return \"'\" + escapeString(String(value.toSqlString())) + \"'\";\n      } else if (Array.isArray(value)) {\n        let out = opts.arrayParenthesis ? '(' : '';\n        for (let i = 0; i < value.length; i++) {\n          if (i !== 0) out += ',';\n          out += escapeParameters(opts, info, value[i]);\n        }\n        if (opts.arrayParenthesis) out += ')';\n        return out;\n      } else {\n        if (\n          value.type != null &&\n          [\n            'Point',\n            'LineString',\n            'Polygon',\n            'MultiPoint',\n            'MultiLineString',\n            'MultiPolygon',\n            'GeometryCollection'\n          ].includes(value.type)\n        ) {\n          //GeoJSON format.\n          let prefix =\n            info &&\n            ((info.isMariaDB() && info.hasMinVersion(10, 1, 4)) || (!info.isMariaDB() && info.hasMinVersion(5, 7, 6)))\n              ? 'ST_'\n              : '';\n          switch (value.type) {\n            case 'Point':\n              return prefix + \"PointFromText('POINT(\" + TextEncoder.geoPointToString(value.coordinates) + \")')\";\n\n            case 'LineString':\n              return (\n                prefix + \"LineFromText('LINESTRING(\" + TextEncoder.geoArrayPointToString(value.coordinates) + \")')\"\n              );\n\n            case 'Polygon':\n              return (\n                prefix + \"PolygonFromText('POLYGON(\" + TextEncoder.geoMultiArrayPointToString(value.coordinates) + \")')\"\n              );\n\n            case 'MultiPoint':\n              return (\n                prefix +\n                \"MULTIPOINTFROMTEXT('MULTIPOINT(\" +\n                TextEncoder.geoArrayPointToString(value.coordinates) +\n                \")')\"\n              );\n\n            case 'MultiLineString':\n              return (\n                prefix +\n                \"MLineFromText('MULTILINESTRING(\" +\n                TextEncoder.geoMultiArrayPointToString(value.coordinates) +\n                \")')\"\n              );\n\n            case 'MultiPolygon':\n              return (\n                prefix + \"MPolyFromText('MULTIPOLYGON(\" + TextEncoder.geoMultiPolygonToString(value.coordinates) + \")')\"\n              );\n\n            case 'GeometryCollection':\n              return (\n                prefix +\n                \"GeomCollFromText('GEOMETRYCOLLECTION(\" +\n                TextEncoder.geometricCollectionToString(value.geometries) +\n                \")')\"\n              );\n          }\n        } else {\n          if (opts.permitSetMultiParamEntries) {\n            let out = '';\n            let first = true;\n            for (let key in value) {\n              const val = value[key];\n              if (typeof val === 'function') continue;\n              if (first) {\n                first = false;\n              } else {\n                out += ',';\n              }\n              out += '`' + key + '`=';\n              out += this.escape(opts, info, val);\n            }\n            if (out === '') return \"'\" + escapeString(JSON.stringify(value)) + \"'\";\n            return out;\n          } else {\n            return \"'\" + escapeString(JSON.stringify(value)) + \"'\";\n          }\n        }\n      }\n    default:\n      return \"'\" + escapeString(value) + \"'\";\n  }\n};\n\n// see https://mariadb.com/kb/en/library/string-literals/\nconst LITTERAL_ESCAPE = {\n  '\\u0000': '\\\\0',\n  \"'\": \"\\\\'\",\n  '\"': '\\\\\"',\n  '\\b': '\\\\b',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n  '\\u001A': '\\\\Z',\n  '\\\\': '\\\\\\\\'\n};\n\nconst escapeString = (val) => {\n  const pattern = /[\\u0000'\"\\b\\n\\r\\t\\u001A\\\\]/g;\n\n  let offset = 0;\n  let escaped = '';\n  let match;\n\n  while ((match = pattern.exec(val))) {\n    escaped += val.substring(offset, match.index);\n    escaped += LITTERAL_ESCAPE[match[0]];\n    offset = pattern.lastIndex;\n  }\n\n  if (offset === 0) {\n    return val;\n  }\n\n  if (offset < val.length) {\n    escaped += val.substring(offset);\n  }\n\n  return escaped;\n};\n\nmodule.exports.escape = escapeParameters;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}